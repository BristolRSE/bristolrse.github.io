
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Windows development VMs &#8212; Bristol RSE  documentation</title>
    
  <link rel="stylesheet" href="../../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.d3f166471bb80abb5163.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="prev" title="Python packages" href="../python_envs/" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../">
  
  
  <h1 class="site-logo" id="site-title">Bristol RSE  documentation</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../../search/" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search..." aria-label="Search..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <p class="caption collapsible-parent">
 <span class="caption-text">
  How-tos:
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../python_envs/">
   Python packages
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Windows development VMs
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/how-tos/windows_dev_vm.rst.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.rst</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/BristolRSE/bristolrse.github.io"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        
        <a class="edit-button" href="https://github.com/BristolRSE/bristolrse.github.io/edit/master/source/how-tos/windows_dev_vm.rst"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setup-on-macos-with-parallels-desktop-for-mac">
   Setup on MacOS with Parallels Desktop for Mac
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#download-and-initial-setup">
     Download and initial setup
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#recommended-configuration">
     Recommended configuration
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#hardware">
       Hardware
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#sharing">
       Sharing
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#backup">
       Backup
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#snapshots">
       Snapshots
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hints-and-tips">
     Hints and tips
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#license-expiry">
       License expiry
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <section id="windows-development-vms">
<h1>Windows development VMs<a class="headerlink" href="#windows-development-vms" title="Permalink to this headline">Â¶</a></h1>
<div class="admonition-what-is-this-page-about admonition">
<p class="admonition-title">What is this page about?</p>
<p>How to set up a Windows development virtual machine (on a MacOS host with Parallels hypervisor)</p>
</div>
<p>Windows VM images are <a class="reference external" href="https://developer.microsoft.com/en-us/windows/downloads/virtual-machines/">available from Microsoft</a> for use with VMWare, Hyper-V, VirtualBox, and Parallels are available and are ~20 GB in size.</p>
<p>The VM images expire after 60 days (the expiry date should be shown on the download page). The images are provided for evaluation and demonstration (see the terms linked on the download page) and do not require activation.</p>
<p>The image contains Windows 10 Enterprise with <a class="reference external" href="https://developer.microsoft.com/en-gb/windows/downloads/">Visual Studio</a> and <a class="reference external" href="https://code.visualstudio.com/">Visual Studio Code</a> preinstalled. <a class="reference external" href="https://docs.microsoft.com/en-us/windows/apps/get-started/enable-your-device-for-development">Developer mode</a> and <a class="reference external" href="https://docs.microsoft.com/en-us/windows/wsl/about">Windows Subsystem for Linux</a> are enabled (Ubuntu is pre-installed). This represents and excellent starting point for development or testing.</p>
<section id="setup-on-macos-with-parallels-desktop-for-mac">
<h2>Setup on MacOS with Parallels Desktop for Mac<a class="headerlink" href="#setup-on-macos-with-parallels-desktop-for-mac" title="Permalink to this headline">Â¶</a></h2>
<div class="admonition-caveat admonition">
<p class="admonition-title">Caveat</p>
<p>The following notes describe how to set up a Windows development VM as a guest on a MacOS host using <a class="reference external" href="https://www.parallels.com/products/desktop/">Parallels Desktop for Mac</a> 16.5.0. You will need to adapt the steps for different host OSes and hypervisors.</p>
</div>
<section id="download-and-initial-setup">
<h3>Download and initial setup<a class="headerlink" href="#download-and-initial-setup" title="Permalink to this headline">Â¶</a></h3>
<p>Download the Parallels virtual machine image <a class="reference external" href="https://developer.microsoft.com/en-us/windows/downloads/virtual-machines/">from Microsoft</a>.</p>
<p>Check the file hash of the download against the image. The values under âFileHashâ in the table of downloads <a class="reference external" href="https://developer.microsoft.com/en-us/windows/downloads/virtual-machines/">provided by Microsoft</a> are SHA256 hash values (the default algorithm used by <code class="docutils literal notranslate"><span class="pre">Get-FileHash</span></code> <a class="reference external" href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/get-filehash">in PowerShell</a>). On MacOS we can check the hash using <code class="docutils literal notranslate"><span class="pre">shasum</span></code>, e.g.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>shasum -a <span class="m">256</span> WinDev2104Eval.Parallels.zip
</pre></div>
</div>
<p>replacing <code class="docutils literal notranslate"><span class="pre">WinDev2104Eval.Parallels.zip</span></code> with the name of the downloaded zip archive containing the VM.</p>
<p>Unzip the file into your Parallels virtual machine folder, e.g.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>unzip WinDev2104Eval.Parallels.zip -d ~/Parallels
</pre></div>
</div>
<p>replacing <code class="docutils literal notranslate"><span class="pre">~/Parallels</span></code> with your Parallels virtual machine folder (this can be found in the âPreferencesâ menu for Parallels Desktop).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The archive is ~20 GB in size and the extracted VM image is ~40 GB, so to extract the archive as above requires ~60 GB available disk space.</p>
</div>
<p>Start Parallels Desktop and from the âFileâ menu, select âOpenâ and select the <code class="docutils literal notranslate"><span class="pre">.pvm</span></code> file extracted into your Parallels virtual machine folder (this is in fact a directory containing files associated with the VM).</p>
<p>The development VM will now be available to start within Parallels.</p>
</section>
<section id="recommended-configuration">
<h3>Recommended configuration<a class="headerlink" href="#recommended-configuration" title="Permalink to this headline">Â¶</a></h3>
<p>The default options for the VM in Parallels Desktop are not well-suited for development. To modify the settings, open the configuration window for the VM (âActionsâ â âConfigureâ¦â from the menu bar).</p>
<p>Here are some recommended settings that will make the VM more suitable for development.</p>
<section id="hardware">
<h4>Hardware<a class="headerlink" href="#hardware" title="Permalink to this headline">Â¶</a></h4>
<p>In the âHardwareâ tab of the VM configuration window</p>
<ul class="simple">
<li><p>Under âCPU &amp; Memoryâ, set memory to 4 GB (the default of 1.5 GB is on the low side)</p></li>
</ul>
</section>
<section id="sharing">
<h4>Sharing<a class="headerlink" href="#sharing" title="Permalink to this headline">Â¶</a></h4>
<p>Parallels offers impressive integration between the host MacOS system and guest Windows VM, and this is activated by default. However, this is unnecessary (and potentially confusing) for a short-lived development VM image.</p>
<p>It is recommended to limit sharing to a single folder and disable âShared profileâ (where MacOS and Windows both use some of the host machineâs user folders). Select âSharingâ from the left of the âOptionsâ tab of the VM configuration window and under âShare Macâ</p>
<ul class="simple">
<li><p>Change âShare foldersâ to âNoneâ</p></li>
<li><p>Click âCustom foldersâ¦â and add your preferred shared folder from the host macOS system to the list of shared folders (e.g. <code class="docutils literal notranslate"><span class="pre">~/Parallels</span> <span class="pre">Shared</span></code>)</p></li>
<li><p>Uncheck âShare Mac use folders with Windowsâ</p></li>
<li><p>Uncheck âShare cloud folders with Windowsâ</p></li>
<li><p>Uncheck âMap Mac volumes to Windowsâ</p></li>
</ul>
<p>Under  âShare Windowsâ</p>
<ul class="simple">
<li><p>Uncheck âAccess Windows folders from Macâ</p></li>
</ul>
<p>Also recommended is disabling sharing of Windows applications with MacOS (and MacOS applications with Windows). This disables the ability for the host and guest operating systems to open applications from each other. Select âApplicationsâ from the right of the âOptionsâ tab of the VM configuration window and</p>
<ul class="simple">
<li><p>Uncheck âShare Windows applications with Macâ</p></li>
<li><p>Uncheck âShow Windows notification area in Mac menu barâ</p></li>
<li><p>Uncheck âAllow apps to auto-switch to full screenâ</p></li>
<li><p>Uncheck âShare Mac applications with Windowsâ</p></li>
</ul>
</section>
<section id="backup">
<h4>Backup<a class="headerlink" href="#backup" title="Permalink to this headline">Â¶</a></h4>
<p>The VM image is both large and will expire after (at most) 60 days. It is sensible to exclude this from Time Machine backups. To do this, open the Time Machine menu (from menu bar on MacOS 10.15 Catalina, Apple menu â âSystem Preferencesâ¦â â âTime Machineâ), then select the âOptionsâ¦â button in the Time Machine menu. Add the <code class="docutils literal notranslate"><span class="pre">.pvm</span></code> file for the Windows development VM to the list of excluded items. Parallels should inform you that the VM is not being backed up in the âBackupâ tab of the VM configuration window.</p>
</section>
<section id="snapshots">
<h4>Snapshots<a class="headerlink" href="#snapshots" title="Permalink to this headline">Â¶</a></h4>
<p>It may be useful to enable automated snapshotting of the VM. This will allow changes to be rolled back if the VM gets into a broken state. To enable this, select the âBackupâ tab of the VM configuration window and check âSmartGuardâ. To configure the frequency of snapshots and number of snapshots to keep, click âDetailsâ¦â and modify the settings.</p>
</section>
</section>
<section id="hints-and-tips">
<h3>Hints and tips<a class="headerlink" href="#hints-and-tips" title="Permalink to this headline">Â¶</a></h3>
<section id="license-expiry">
<h4>License expiry<a class="headerlink" href="#license-expiry" title="Permalink to this headline">Â¶</a></h4>
<p>The evaluation license for the VM expires on the date specified on the <a class="reference external" href="https://developer.microsoft.com/en-us/windows/downloads/virtual-machines/">download page</a>. The VM should present a warning message on startup when it is nearing expiry.</p>
<p>A description of the VM, including the expiry date, can be viewed when the VM is running by selecting the VM name from the MacOS menu bar and then selecting the âAboutâ option (e.g. âWinDev2104Evalâ â âAbout WinDev2104Evalâ).</p>
</section>
</section>
</section>
</section>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="../python_envs/" title="previous page">Python packages</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
            &copy; Copyright 2021, Bristol RSE Team. CC-BY-SA 4.0.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>